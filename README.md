# SSMIX2からFHIRへの変換

ADT_A08 を読み込むとき、IRIS for Health 2023.1.2　より大きいバージョンではエラーが出てしまうため、2023.1.2以下のバージョンを使用して試してください。

（現在Pullできるコンテナバージョンに2023.1.2がなかったため、2022.1.4.812.0-53 を使用しています）

## 起動手順

- 1. ssmixフォルダのPermissionを変更するためシェルを動かします。

    ```
    ./setup.sh
    ```

- 2. キーを準備します。

    コンテナ用キーを　iris.key　としてリポジトリ直下においてください。
    
    ARM用はARM版コンテナ用キーを利用してください。

- 3. コンテナをビルドしながら開始します。

    ※コンテナ内52773番ポートは8083番、1972番ポートは8084番で動作します。変更する場合は[docker-compose.ymlの10～11行目](/docker-compose.yml#L10)を修正してください。

    注意：ARM用コンテナを利用する場合は[Dockerfileの２行目](/Dockerfile#L2)のコメントを外してから実行してください。

    ```
    docker-compose up -d --build
    ```

- 4. コンテナへのログイン

    IRISのコンテナ名は ssmixirisです。
    ```
    docker exec -it ssmixiris bash
    ```

- 5. コンテナを停止する場合

    ※コンテナを止めるだけなので作成した内容は消えません。

    ```
    docker-compose stop
    ```

- 6. コンテナ破棄

    ※コンテナを削除するため作成した内容も全てなくなります。

    ```
    docker-compose rm
    ```

## 演習に使用するファイルやディレクトリ

- [演習サポート.txt](演習サポート.txt)

    コピペ元に使います。

- [ssmixディレクトリ](/ssmix/)

    入力用SSMIXファイルと入力用ディレクトリが含まれます。